apiVersion: v1
data:
  frontend.jsonnet: |
    local common = import 'common.libsonnet';

    {
      blobstore: common.blobstoreStorage,
      grpcServers: [{
        listenAddresses: [':8980'],
        authenticationPolicy: { allow: {} },
      }],
      schedulers: {
        '': { endpoint: { address: 'scheduler:8982' } },
      },

      # Uncomment to allow remote clients to write to the cache
      # allowAcUpdatesForInstanceNamePrefixes: [''],

      maximumMessageSizeBytes: common.maximumMessageSizeBytes,
      global: common.global,
    }
kind: ConfigMap
metadata:
  name: frontend
  namespace: buildbarn
